#:kivy 1.9.1

<Button>:
    markup: True

<EditorTextInput@TextInput>:
    size_hint:1,None
    size: 0,30
    multiline: False
    use_bubble: True

<FolderLabel>:
    text_size: root.width, None
    mipmap: True
    padding_y: 4
    bold: False
    size:self.texture_size
    shorten: True
    canvas:
        Rectangle:
            texture:root.folder_icon.texture
            pos: root.pos[0] -35, root.center_y -7
            size: (15, 15)

<FileLabel>:
    text_size: root.width, None
    mipmap: True
    bold: False
    padding_y: 5
    size:self.texture_size
    shorten: True
    shorten_from: "right"
    canvas:
        Rectangle:
            texture:root.file_icon.texture
            pos: root.pos[0] -20, root.center_y -7
            size: (15, 15)

<FolderLayout>:
    size: 1,27
    Image:
        size_hint: 0.05,0.95
        source:"C:\Users\Master\Pictures\icons\\folder.png"
        mipmap:True
    Label:
        bold: True
        padding: 3,5
        pos: root.pos
        shorten: True
        shorten_from: "right"
        id: l_lab
        text: root.text
        text_size: self.size

<EditorLabel>:
    size_hint: 1,None
    size:0,25
    bold:True

<LeftLayout>:
    spacing: 5
    orientation:"vertical"
    BoxLayout:
        id:tree_button_layout
        size_hint: 1, 0.05
        ColorButton:
            text:"Change Directory"
            on_press: app.drag_modal.open()
        ProgressSpinner:
            color: 1,1,1,1
            size_hint: 0.4,1
            id: tree_progress
            auto_start: False
            speed:2
        ColorButton:
            text:"Refresh"
            on_press: app.tree_refresh()

<TagEditorLayout>:
    orientation: "vertical"
    BoxLayout:
        size_hint:1, 4.5
        EditorLabel:
            id: lbl_file
            text: "Artist Bio"
            text_size: self.size
            padding_x: 5
            valign: "middle"
        CoverArtImage:
            size_hint:0.5,1

    EditorLabel:
        id: lbl_title
        text: "Title:"
    EditorTextInput:
        id: InputTitle
    EditorLabel:
        id: label_artist
        text: "Artist:"
    EditorTextInput:
        id: InputArtist
    EditorLabel:
        id: lbl_tracknumber
        text: "Track Number:"
    EditorTextInput:
        id: InputTracknumber
        input_filter: "int"
    EditorLabel:
        id: lbl_album
        text: "Album:"
    EditorTextInput:
        id: InputAlbum
    EditorLabel:
        id: lbl_date
        text: "Release Date:"
    EditorTextInput:
        id: InputDate
    EditorLabel:
        id: lbl_genre
        text: "Genre:"
    EditorTextInput:
        id: InputGenre
    EditorLabel:
        id: lbl_album_artist
        text: "Album Artist:"
    EditorTextInput:
        id: InputAlbumartist
    BoxLayout:
        spacing: 2
        size_hint: 1,None
        size: 0,30
        orientation: "horizontal"
        ColorButton:
            bold:True
            text: "Tag This!"
            on_press:print str(self.size)
        ColorButton:
            background_color:[0,0.6,0.1,1]
            background_color_normal: [0,0.6,0.1,1]
            background_color_down:[0,1,0,1]
            text: "[b][color=ffffff]Apply Changes[/color][/b]"
            on_press: root.print_text_input()
            markup: True

<BlackSpinner@SpinnerOption>:
    background_color:(0,0.4,0.8,1)
    background_normal: ""

<ConverterLayout>:
    spacing: 3
    orientation: "vertical"
    Label:
        size_hint:1,0.1
        id: converter_label
        text: "Music Converter"
        bold:True
    BoxLayout:
        size_hint: 1,0.07
        Label:
            text: "Convert to:"
            size_hint: 0.4, 1
        Spinner:
            background_color:(0,0.4,0.8,1)
            background_normal: ""
            option_cls: "BlackSpinner"
            text: "File Format"
            bold: True
            values: ("FLAC", "ALAC", "MP3", "OGG")
            sync_height: True
    Label:
        size_hint: 1,0.12
        text: "Files To Convert:"
        bold: True
    ScrollView:
        scroll_distance: 30
        ConverterList:
            id: converter_list
            size_hint_y:None
            hide_root: True
            on_file_doubleclick: self.modify_list(self.selected_node)
            height: self.minimum_height
    BoxLayout:
        size_hint: 1,0.08
        Label:
            size_hint: 0.3,1
            text: "Destination:"
            bold:True
        TextInput:
            id: converter_output_text_input
            text: "Destination Folder"
        ColorButton:
            size_hint: 0.1,0.98
            text: "..."
            on_press: app.converter_modal.open()
    BoxLayout:
        spacing: 2
        size_hint: 1,0.08
        ColorButton:
            text: "Clear"
            on_press: converter_list.clear_tree_view()
        ColorButton:
            text: "Convert"


<BaseModal>:
    opacity: 1
    size_hint: (0.35, 0.1)
    Label:
        opacity: 1
        text:

<SpinnerOption>:
    size: 50,28

<AppMenuLayout>:
    size_hint:1,0.04
    DropDownRootButton:
        dropdown:app.about
        background_color:(0,0,0,1)
        background_normal: ""
        text: "About"
        on_enter: app.about.open(self)
        on_leave: self.leave_handler()
    FloatLayout:
        size_hint:10,1
        canvas:
            Color:
                rgba:0,0,0,1
            Rectangle:
                size: self.size
                pos: self.pos

<BottomLayout>:
    size_hint: 1, 0.08
    Carousel:
        id:carousel_id
        scroll_timeout: 200
        FloatLayout:
            ColorButton:
                background_color:[0.75,0,0,1]
                background_color_normal:[0.75,0,0,1]
                id: btn1
                size_hint: 0.15, 0.7
                pos_hint: {"y" : (1- self.size_hint[1]) / 2,"x": (1- self.size_hint[0]) /2}
                text: "Metador!"
                bold:True
                on_press:carousel_id.load_next()
            ColorButton:
                id: editor_converter_button
                text: "Converter"
                size_hint: 0.1, 0.7
                pos_hint: {"x": 0.895,"y":0.16}
                on_press: app.change_editor_carousel()
        ProgressBar:
            id: metador_progress_bar


<AppMenuButton@ColorButton>:
    height: 25
    size_hint_y: None
    background_color:[0,0,0,1]

<AboutDropDown>:
    AppMenuButton:
        background_color_normal:[0,0,0,1]
        text: "Help"
        on_press: print "1"
        on_release: root.dismiss()
    AppMenuButton:
        text: 'About'
        on_press: print "2"
        on_release: root.dismiss()
